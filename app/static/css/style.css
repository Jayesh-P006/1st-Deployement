* {margin: 0; padding: 0; box-sizing: border-box;}
body {font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; background: #f8f9fa; min-height: 100vh; color: #1a1a1a;}
.container {max-width: 1280px; margin: 0 auto; padding: 2rem;}
.nav {background: #ffffff; box-shadow: 0 1px 3px rgba(0,0,0,0.08); position: sticky; top: 0; z-index: 100; border-bottom: 1px solid #e9ecef;}
.nav .container {display: flex; justify-content: space-between; align-items: center; padding: 1rem 2rem;}
.time-display {background: #667eea; color: #fff; text-align: center; padding: 0.75rem 1.5rem; font-size: 0.95rem; font-weight: 600; letter-spacing: 0.3px; box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);}
.brand {color: #1a1a1a; text-decoration: none; font-weight: 700; font-size: 1.4rem; display: flex; align-items: center; gap: 0.6rem; letter-spacing: -0.5px;}
.brand svg {width: 28px; height: 28px;}
.btn {background: #0a66c2; color: #fff; padding: 0.65rem 1.4rem; text-decoration: none; border-radius: 8px; display: inline-flex; align-items: center; gap: 0.5rem; font-weight: 600; transition: all 0.2s; border: none; cursor: pointer; font-size: 0.95rem;}
.btn:hover {background: #004182; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(10,102,194,0.2);}
.btn.danger {background: #dc3545;}
.btn.danger:hover {background: #c82333;}
.btn.secondary {background: #fff; color: #0a66c2; border: 1.5px solid #e9ecef;}
.flash-wrapper {margin: 1.5rem 0;}
.flash {padding: 1rem 1.3rem; border-radius: 8px; margin-bottom: 0.8rem; font-size: 0.94rem; animation: slideIn 0.3s ease; display: flex; align-items: center; gap: 0.8rem; border: 1px solid;}
@keyframes slideIn {from {opacity: 0; transform: translateY(-10px);} to {opacity: 1; transform: translateY(0);}}
.flash.success {background: #d4edda; color: #155724; border-color: #c3e6cb;}
.flash.error {background: #f8d7da; color: #721c24; border-color: #f5c6cb;}
.flash::before {font-size: 1.1rem; font-weight: bold;}
.flash.success::before {content: "✓";}
.flash.error::before {content: "✕";}
.stats {display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1.2rem; margin: 1.5rem 0;}
.stat-card {background: #fff; padding: 1.4rem 1.6rem; border-radius: 10px; border: 1px solid #e9ecef; transition: all 0.2s; position: relative;}
.stat-card:hover {border-color: #0a66c2; box-shadow: 0 4px 12px rgba(0,0,0,0.08);}
.stat-label {font-size: 0.8rem; color: #6c757d; text-transform: uppercase; letter-spacing: 0.8px; margin-bottom: 0.6rem; font-weight: 600;}
.stat-value {font-size: 2rem; font-weight: 700; color: #1a1a1a; line-height: 1;}
.stat-icon {position: absolute; right: 1.2rem; top: 1.2rem; font-size: 2rem; opacity: 0.15;}
.token-card {background: #fff; border-left: 4px solid #0a66c2;}
.token-card.instagram {border-left-color: #e4405f;}
.token-card.linkedin {border-left-color: #0a66c2;}
.token-bar {height: 6px; background: #e9ecef; border-radius: 3px; margin-top: 0.8rem; overflow: hidden;}
.token-progress {height: 100%; background: #0a66c2; transition: width 0.5s;}
.token-card.instagram .token-progress {background: #e4405f;}
.token-card.linkedin .token-progress {background: #0a66c2;}
.card {background: #fff; border-radius: 10px; padding: 2rem 2.5rem; border: 1px solid #e9ecef; margin: 1.5rem 0;}
.card h1, .card h2 {color: #1a1a1a; margin-bottom: 1.8rem; font-size: 1.6rem; font-weight: 700; letter-spacing: -0.5px;}
.form {display: flex; flex-direction: column; gap: 1.8rem; max-width: 720px;}
.form-group {display: flex; flex-direction: column; gap: 0.6rem;}
.form-group label {font-weight: 600; color: #495057; font-size: 0.92rem; display: flex; align-items: center; gap: 0.4rem;}
.form-group label .platform-badge {display: inline-flex; align-items: center; gap: 0.3rem; padding: 0.2rem 0.6rem; border-radius: 4px; font-size: 0.8rem; font-weight: 500;}
.form-group label .platform-badge.instagram {background: #fce4ec; color: #e4405f;}
.form-group label .platform-badge.linkedin {background: #e3f2fd; color: #0a66c2;}
.form-group input, .form-group textarea, .form-group select {padding: 0.75rem 1rem; border: 1.5px solid #dee2e6; border-radius: 8px; font-size: 0.95rem; transition: all 0.2s; background: #fff; font-family: inherit;}
.form-group input:focus, .form-group textarea:focus, .form-group select:focus {outline: none; border-color: #0a66c2; box-shadow: 0 0 0 3px rgba(10,102,194,0.1);}
.form-group textarea {resize: vertical; min-height: 140px; line-height: 1.6;}
.form-group select {cursor: pointer;}
.posts-table {width: 100%; border-collapse: separate; border-spacing: 0; margin: 1.5rem 0;}
.posts-table thead {background: #f8f9fa;}
.posts-table th {padding: 0.9rem 1rem; text-align: left; font-weight: 600; font-size: 0.85rem; color: #495057; border-bottom: 2px solid #e9ecef; text-transform: uppercase; letter-spacing: 0.5px;}
.posts-table td {padding: 1rem; border-bottom: 1px solid #e9ecef; vertical-align: middle; font-size: 0.92rem;}
.posts-table tbody tr {background: #fff; transition: background 0.15s;}
.posts-table tbody tr:hover {background: #f8f9fa;}
.platform-tag {display: inline-flex; align-items: center; gap: 0.4rem; padding: 0.35rem 0.75rem; border-radius: 6px; font-size: 0.85rem; font-weight: 500;}
.platform-tag.instagram {background: #fce4ec; color: #e4405f;}
.platform-tag.linkedin {background: #e3f2fd; color: #0a66c2;}
.status-badge {padding: 0.35rem 0.75rem; border-radius: 6px; font-size: 0.82rem; font-weight: 600; display: inline-block;}
.status-badge.scheduled {background: #fff3cd; color: #856404; border: 1px solid #ffeaa7;}
.status-badge.posted {background: #d4edda; color: #155724; border: 1px solid #c3e6cb;}
.status-badge.failed, .status-badge.missed {background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;}
.actions {display: flex; gap: 0.4rem;}
.icon-btn {background: #f8f9fa; border: 1px solid #e9ecef; cursor: pointer; font-size: 1.1rem; padding: 0.5rem 0.6rem; border-radius: 6px; transition: all 0.2s; color: #495057;}
.icon-btn:hover {background: #e9ecef; border-color: #dee2e6;}
.icon-btn.delete:hover {background: #f8d7da; border-color: #f5c6cb; color: #721c24;}
.modal {display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5);}
.modal-content {background: #fff; margin: 4% auto; padding: 0; max-width: 550px; border-radius: 10px; box-shadow: 0 10px 40px rgba(0,0,0,0.15); animation: modalSlide 0.3s ease;}
@keyframes modalSlide {from {opacity: 0; transform: translateY(-30px);} to {opacity: 1; transform: translateY(0);}}
.modal-header {padding: 1.5rem 2rem; border-bottom: 1px solid #e9ecef; display: flex; justify-content: space-between; align-items: center;}
.modal-header h2 {margin: 0; font-size: 1.3rem;}
.modal-body {padding: 2rem; max-height: 65vh; overflow-y: auto;}
.close {font-size: 1.8rem; cursor: pointer; color: #6c757d; transition: color 0.2s; line-height: 1;}
.close:hover {color: #1a1a1a;}
.preview-container {max-width: 450px; margin: 0 auto;}
.preview-instagram, .preview-linkedin {border-radius: 8px; padding: 1.5rem; background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.1);}
.preview-instagram {border: 1px solid #e9ecef;}
.preview-linkedin {border: 1px solid #e9ecef;}
.preview-header {display: flex; align-items: center; gap: 0.8rem; margin-bottom: 1rem; padding-bottom: 0.8rem; border-bottom: 1px solid #e9ecef;}
.preview-avatar {width: 40px; height: 40px; border-radius: 50%; background: #e4405f; display: flex; align-items: center; justify-content: center; color: #fff; font-weight: bold;}
.preview-linkedin .preview-avatar {background: #0a66c2;}
.preview-username {font-weight: 600; font-size: 0.95rem; color: #1a1a1a;}
.preview-image {max-width: 100%; border-radius: 6px; margin: 1rem 0;}
.preview-content {margin-top: 1rem; text-align: left; line-height: 1.6; color: #1a1a1a; white-space: pre-wrap;}
.preview-footer {margin-top: 1rem; padding-top: 0.8rem; border-top: 1px solid #e9ecef; font-size: 0.85rem; color: #6c757d;}
.empty-state {text-align: center; padding: 4rem 2rem; color: #6c757d;}
.empty-state-icon {font-size: 3.5rem; margin-bottom: 1rem; opacity: 0.5;}
.empty-state h3 {color: #495057; margin-bottom: 0.5rem;}
.file-upload-wrapper {position: relative; border: 2px dashed #dee2e6; border-radius: 8px; padding: 2rem; text-align: center; transition: all 0.2s; background: #f8f9fa;}
.file-upload-wrapper:hover {border-color: #0a66c2; background: #fff;}
.file-upload-wrapper input[type="file"] {position: absolute; opacity: 0; width: 100%; height: 100%; top: 0; left: 0; cursor: pointer;}
.file-upload-label {color: #6c757d; font-size: 0.9rem;}
.image-preview-box {margin-top: 1rem; border: 1px solid #e9ecef; border-radius: 8px; overflow: hidden; max-width: 400px;}
@keyframes spin {0% {transform: rotate(0deg);} 100% {transform: rotate(360deg);}}
.account-status-card {transition: all 0.3s ease;}
.account-status-card:hover {box-shadow: 0 4px 12px rgba(0,0,0,0.1);}
@media (max-width: 768px) {.stats {grid-template-columns: 1fr;} .nav .container {flex-direction: column; gap: 1rem;} .posts-table {font-size: 0.85rem; display: block; overflow-x: auto;} .card {padding: 1.5rem;}}

/* DM inbox layout */
.dm-header {display: flex; justify-content: space-between; align-items: flex-start; gap: 1rem; margin-bottom: 1rem;}
.dm-header h1 {margin: 0.4rem 0; font-size: 1.8rem;}
.dm-header p {color: #666;}
.dm-sync {display: flex; flex-direction: column; align-items: flex-end; gap: 0.25rem;}
.dm-sync small {color: #666;}

.dm-shell {display: grid; grid-template-columns: 320px 1fr; gap: 1rem; background: #fff; border: 1px solid #e9ecef; border-radius: 12px; overflow: hidden; box-shadow: 0 8px 24px rgba(0,0,0,0.03);}
.dm-list {background: #f7f9fb; border-right: 1px solid #e9ecef; max-height: 70vh; overflow-y: auto;}
.dm-list-item {display: block; padding: 14px 16px; text-decoration: none; color: inherit; border-bottom: 1px solid #e9ecef; transition: background 0.2s;}
.dm-list-item:hover {background: #eef3f8;}
.dm-list-item.active {background: #e3edf9; border-left: 4px solid #0a66c2; padding-left: 12px;}
.dm-list-row {display: flex; gap: 12px; align-items: center;}
.dm-avatar {width: 38px; height: 38px; border-radius: 50%; background: linear-gradient(135deg, #f58529, #d62976, #962fbf, #4f5bd5); color: #fff; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.9rem;}
.dm-list-meta {flex: 1; display: flex; flex-direction: column; gap: 4px;}
.dm-list-top {display: flex; justify-content: space-between; align-items: center; gap: 6px;}
.dm-name {font-weight: 700; color: #1a1a1a; font-size: 0.95rem;}
.dm-time {color: #777; font-size: 0.8rem; white-space: nowrap;}
.dm-list-bottom {display: flex; justify-content: space-between; gap: 6px; align-items: center;}
.dm-preview {color: #555; font-size: 0.85rem; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; flex: 1; max-width: 60%;}
.dm-badges {display: flex; gap: 4px; align-items: center; flex-shrink: 0;}

/* New tag system */
.dm-tag {padding: 3px 8px; border-radius: 4px; font-size: 0.7rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.3px; white-space: nowrap;}
.dm-tag-issue {background: #dc3545; color: #fff;}
.dm-tag-auto-off {background: #f59e0b; color: #fff;}

/* Unread count bubble (WhatsApp style) */
.dm-unread-bubble {background: #25d366; color: #fff; border-radius: 50%; min-width: 20px; height: 20px; display: inline-flex; align-items: center; justify-content: center; font-size: 0.7rem; font-weight: 700; padding: 0 5px;}

/* Remove old status badges */
.dm-status {display: none;}
.dm-status-active, .dm-status-resolved, .dm-status-archived {display: none;}

.dm-chat {display: flex; flex-direction: column; height: 70vh; max-height: 70vh;}
.dm-chat-header {display: flex; justify-content: space-between; align-items: center; padding: 16px 18px; border-bottom: 1px solid #e9ecef; flex-shrink: 0;}
.dm-chat-header h2 {margin: 0; font-size: 1.2rem;}
.dm-chat-header p {margin: 4px 0 0; color: #666; font-size: 0.9rem;}
.dm-header-badges {display: flex; gap: 6px; align-items: center;}

.dm-chat-window {flex: 1; background: #f5f7fb; padding: 18px; overflow-y: auto; overflow-x: hidden; display: flex; flex-direction: column; gap: 12px; max-height: calc(70vh - 140px);}
.dm-bubble-row {display: flex;}
.dm-bubble-row.outgoing {justify-content: flex-end;}
.dm-bubble-row.incoming {justify-content: flex-start;}
.dm-bubble {max-width: 70%; border-radius: 16px; padding: 12px 14px; box-shadow: 0 2px 6px rgba(0,0,0,0.06);}
.dm-bubble.user {background: #fff; color: #1a1a1a;}
.dm-bubble.bot {background: #0a66c2; color: #fff;}
.dm-bubble-text {line-height: 1.5; font-size: 0.95rem;}
.dm-bubble-meta {margin-top: 6px; font-size: 0.75rem; opacity: 0.8; display: flex; gap: 8px; align-items: center;}
.dm-bubble-error {margin-top: 6px; font-size: 0.8rem; color: #c82333; background: rgba(220,53,69,0.12); padding: 6px 8px; border-radius: 8px;}
.tag {padding: 2px 6px; border-radius: 6px; background: rgba(255,255,255,0.2); color: inherit; border: 1px solid rgba(255,255,255,0.25); font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.4px;}
.dm-bubble.user .tag {background: #eef1f5; color: #4a5568; border-color: transparent;}
.tag.error {background: #dc3545; color: #fff; border-color: #dc3545;}

.dm-empty-chat {display: flex; align-items: center; justify-content: center; color: #777; height: 100%; padding: 2rem; text-align: center;}

.dm-composer {display: flex; gap: 0.75rem; align-items: flex-start; padding: 14px 16px; border-top: 1px solid #e9ecef; background: #fff; flex-shrink: 0;}
.dm-composer textarea {flex: 1; border: 1.5px solid #dde1e6; border-radius: 10px; padding: 10px 12px; font-size: 0.95rem; resize: none; height: 48px; font-family: inherit;}
.dm-composer textarea:focus {outline: none; border-color: #0a66c2; box-shadow: 0 0 0 3px rgba(10,102,194,0.12);}

/* Custom Scrollbar */
::-webkit-scrollbar {width: 8px; height: 8px;}
::-webkit-scrollbar-track {background: #f1f3f5; border-radius: 4px;}
::-webkit-scrollbar-thumb {background: #adb5bd; border-radius: 4px;}
::-webkit-scrollbar-thumb:hover {background: #868e96;}

@media (max-width: 960px) {
	.dm-shell {
		grid-template-columns: 1fr;
		display: flex;
		flex-direction: column;
	}
	.dm-list {
		max-height: 50vh;
		border-right: none;
		border-bottom: 1px solid #e9ecef;
	}
	.dm-chat {
		min-height: 50vh;
		height: auto;
		max-height: none;
	}
	.dm-chat-window {
		max-height: calc(50vh - 100px);
	}
}

@media (max-width: 768px) {
	.stats {
		grid-template-columns: 1fr;
	}
	.nav .container {
		flex-direction: column;
		gap: 1rem;
	}
	.posts-table {
		font-size: 0.85rem;
		display: block;
		overflow-x: auto;
	}
	.card {
		padding: 1.5rem;
	}
	
	/* DM specific mobile optimizations */
	.dm-composer textarea {
		font-size: 16px; /* Prevents zoom on iOS */
		height: auto;
		min-height: 42px;
	}
	
	.dm-bubble {
		font-size: 0.9rem;
		padding: 10px 12px;
	}
	
	.dm-chat-header h2 {
		font-size: 1rem;
	}
	
	.dm-chat-header p {
		font-size: 0.8rem;
	}
}

.mobile-menu-header {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 64px;
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 0 18px;
	border-bottom: 1px solid #e9ecef;
	background: #ffffff;
	z-index: 2;
}

.back-arrow {
	font-size: 26px;
	cursor: pointer;
	font-weight: 700;
	color: #1a1a1a;
	transition: transform 0.2s ease, opacity 0.2s;
}

.back-arrow:hover {
	transform: translateX(-3px);
	opacity: 0.7;
}

.menu-title {
	font-size: 1rem;
	font-weight: 700;
	color: #495057;
}

.mobile-menu-btn {
	display: none;
	font-size: 26px;
	cursor: pointer;
	user-select: none;
	padding: 6px 10px;
	border-radius: 6px;
	background: transparent;
	border: none;
}

.mobile-menu {
	display: none;
}

@media (max-width: 1200px) {

	/* Hide desktop nav items */
	.nav .container > div:not(.brand),
	.nav .container > a.btn {
		display: none !important;
	}

	.mobile-menu-btn {
		display: block;
		margin-left: auto;
		color: #1a1a1a;
		z-index: 1002;
	}

	/* Drawer */
	.mobile-menu {
		display: block;
		position: fixed;
		top: 0;
		left: 0;
		width: 50vw;
		height: 100vh;
		background: #ffffff;
		box-shadow: 12px 0 40px rgba(0,0,0,0.18);
		transform: translateX(-100%);
		opacity: 0;
		pointer-events: none;
		transition: transform 0.4s cubic-bezier(.4,0,.2,1), opacity 0.3s ease;
		z-index: 1001;
		padding-top: 80px;
	}

	.mobile-menu.open {
		transform: translateX(0);
		opacity: 1;
		pointer-events: auto;
	}

	.mobile-menu a {
		display: block;
		padding: 16px 24px;
		text-decoration: none;
		color: #1a1a1a;
		font-weight: 600;
		border-bottom: 1px solid #f1f3f5;
		transition: background 0.2s;
	}

	.mobile-menu a:hover {
		background: #f8f9fa;
	}

	.mobile-menu a.primary {
		background: linear-gradient(135deg, #405DE6, #833AB4, #E1306C);
		color: #fff;
		margin: 12px;
		border-radius: 10px;
		text-align: center;
	}

	.mobile-menu a.danger {
		color: #dc3545;
	}
}

.nav {
	background: rgba(255, 255, 255, 0.95);
	backdrop-filter: blur(12px);
	border-bottom: 1px solid #e5e7eb;
}

/* Container spacing */
.nav .container {
	max-width: 1400px;
	padding: 14px 24px;
	gap: 22px;
	padding-top: 20px;
	padding-bottom: 20px;
}

/* Brand area */
.nav .brand {
	font-weight: 800;
	font-size: 1.2rem;
	letter-spacing: 0.3px;
}

/* Center navigation group */
.nav .container > div[style*="flex: 1"] {
	display: flex;
	gap: 14px;
	align-items: center;
	justify-content: center;
}

/* Base button cleanup */
.nav .btn {
	padding: 8px 16px;
	border-radius: 999px;
	font-size: 0.95rem;
	font-weight: 600;
	transition: all 0.25s ease;
	white-space: nowrap;
}

/* Secondary buttons (Drafts, Scheduled, etc.) */
.nav .btn.secondary {
	background: #f9fafb;
	border: 1px solid #e5e7eb;
	color: #374151;
}

/* Primary CTA (Instagram / New Draft) */
.nav .btn.primary {
	background: linear-gradient(135deg, #f58529, #dd2a7b, #8134af);
	color: #fff;
	border: none;
	box-shadow: 0 6px 18px rgba(221, 42, 123, 0.25);
}

/* Automation highlight */
.nav a[href*="automation"] {
	background: rgba(139, 92, 246, 0.1);
	border: 1px solid rgba(139, 92, 246, 0.35);
	color: #6d28d9;
}

/* Right-side utility buttons */
.nav .container > div:last-child {
	display: flex;
	gap: 10px;
	align-items: center;
}

/* Danger (logout) */
.nav .btn.danger {
	background: #fee2e2;
	color: #991b1b;
	border: 1px solid #fecaca;
}

/* Hover polish */
.nav .btn:hover {
	transform: translateY(-2px);
	box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

/* Active state */
.nav .btn.active {
	background: #e0e7ff;
	color: #3730a3;
	border-color: #c7d2fe;
}
