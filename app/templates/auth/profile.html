{% extends 'base.html' %}
{% block title %}My Profile{% endblock %}

{% block head %}
<style>
 
   
.profile-page {
  min-height: 100vh;
  background: linear-gradient(135deg, #b4cadf, #d6b4e8);
  position: relative;
  overflow: hidden;
  padding: 60px 0;
}


.profile-bg-shape {
  position: absolute;
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.6;
}

.shape-1 {
  width: 400px;
  height: 400px;
  background: #E1306C;
  top: 10%;
  left: -150px;
}

.shape-2 {
  width: 500px;
  height: 500px;
  background: #833AB4;
  bottom: 10%;
  right: -200px;
}



.profile-container {
  max-width: 900px;
  margin: auto;
  position: relative;
  z-index: 2;
  
}



.profile-header {
  margin-bottom: 30px;
  text-align: center;
}

.profile-header h1 {
  font-size: 36px;
  font-weight: 800;
  background: linear-gradient(
    135deg,
    #405DE6,
    #833AB4,
    #E1306C,
    #F77737
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.profile-header p {
  color: #334155;
  font-size: 15px;
}



.profile-card {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  border-radius: 16px;
  padding: 35px;
  box-shadow: 0 25px 60px rgba(143, 105, 165, 0.984);
  animation: fadeUp 0.8s ease forwards;
}

@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(40px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}



.avatar-section {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 35px;
  padding-bottom: 25px;
  border-bottom: 1px solid #e5e7eb;
}

.avatar {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: linear-gradient(
    135deg,
    #405DE6,
    #833AB4,
    #E1306C,
    #F77737
  );
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 42px;
  font-weight: 800;
}

.avatar-info h2 {
  margin: 0;
  font-size: 22px;
}

.avatar-info p {
  margin: 4px 0 0;
  color: #64748b;
}



.profile-details {
  display: grid;
  gap: 18px;
}

.detail-field label {
  font-size: 13px;
  font-weight: 600;
  color: #475569;
}

.detail-value {
  padding: 14px;
  background: rgb(232, 221, 254);
  border-radius: 10px;
  font-size: 14px;
}
.detail-value:hover{
   background: rgb(198, 178, 239);
}



.badge {
  padding: 6px 14px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 600;
}

.badge-vertical {
  background: #e0e7ff;
  color: #3730a3;
}

.badge-member {
  background: #f3e8ff;
  color: #6b21a8;
}

.badge-lead {
  background: #dcfce7;
  color: #166534;
}

.badge-colead {
  background: #ffedd5;
  color: #9a3412;
}

.badge-active {
  background: #dcfce7;
  color: #166534;
}

.badge-inactive {
  background: #fee2e2;
  color: #991b1b;
}

.permissions-section {
  margin-top: 35px;
  padding-top: 25px;
  border-top: 1px solid #e5e7eb;
}

.permissions-section h3 {
  margin-bottom: 15px;
}

.permissions-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
}

.permission-item {
  display: flex;
  align-items: center;
  gap: 10px;
}

.permission-icon.granted {
  color: #22c55e;
}

.permission-icon.denied {
  color: #94a3b8;
}



.back-button-container {
  margin-top: 50px;
  text-align: center;
}

.back-button {
  padding: 12px 30px;
  border-radius: 999px;
  background: linear-gradient(
    135deg,
    #405DE6,
    #833AB4,
    #E1306C
  );
  color: white;
  text-decoration: none;
  font-weight: 600;
   box-shadow:
    0 20px 40px rgba(106, 17, 203, 0.12),
    0 8px 16px rgba(37, 117, 252, 0.08);
 
  transition: all 1s ease-in;
  
}
.back-button:hover{
     transform: translateY(-4px);
}
@media (max-width: 768px) {
  .profile-container {
    padding: 0 16px;
  }

  .avatar-section {
    flex-direction: column;
    text-align: center;
  }
}

</style>
{% endblock %}

{% block content %}


<div class="profile-page">

  <div class="profile-bg-shape shape-1"></div>
  <div class="profile-bg-shape shape-2"></div>

   <div class="profile-container">
     


    <div class="profile-header">
        <h1>My Profile</h1>
        <p>View your account information:-</p>
    </div>

    
    <div class="profile-card">
        
        <div class="avatar-section">
            <div class="avatar">
                {{ user.full_name[0]|upper if user.full_name else user.username[0]|upper }}
            </div>
            <div class="avatar-info">
                <h2>{{ user.full_name or user.username }}</h2>
                <p>@{{ user.username }}</p>
            </div>
        </div>

       
        <div class="profile-details">
            <div class="detail-field">
                <label class="naming">Full Name</label>
                <div class="detail-value">
                    {{ user.full_name or 'Not set' }}
                </div>
            </div>

            <div class="detail-field">
                <label class="naming">Username</label>
                <div class="detail-value">
                    {{ user.username }}
                </div>
            </div>

            <div class="detail-field">
                <label class="naming">Email</label>
                <div class="detail-value">
                    {{ user.email }}
                </div>
            </div>

            <div class="detail-field">
                <label class="naming">Vertical</label>
                <div class="detail-value">
                    <span class="badge badge-vertical">
                        {{ user.vertical or 'Not set' }}
                    </span>
                </div>
            </div>

            <div class="detail-field">
                <label>Position</label>
                <div class="detail-value">
                    <span class="badge {% if user.position == 'Lead' %}badge-lead{% elif user.position == 'Co-Lead' %}badge-colead{% else %}badge-member{% endif %}">
                        {{ user.position or 'Not set' }}
                    </span>
                </div>
            </div>

            <div class="detail-field">
                <label>Account Status</label>
                <div class="detail-value">
                    <span class="badge {% if user.is_active %}badge-active{% else %}badge-inactive{% endif %}">
                        {% if user.is_active %}ACTIVE{% else %}INACTIVE{% endif %}
                    </span>
                </div>
            </div>

            <div class="detail-field">
                <label>Member Since</label>
                <div class="detail-value">
                    {{ user.created_at.strftime('%B %d, %Y') }}
                </div>
            </div>

            {% if user.last_login %}
            <div class="detail-field">
                <label>Last Login</label>
                <div class="detail-value">
                    {{ user.last_login.strftime('%B %d, %Y at %I:%M %p') }}
                </div>
            </div>
            {% endif %}
        </div>
        
        <div class="permissions-section">
            <h3>Permissions</h3>
            <div class="permissions-grid">
                <div class="permission-item">
                    <span class="permission-icon {% if user.can_edit_content() %}granted{% else %}denied{% endif %}">
                        {% if user.can_edit_content() %}✓{% else %}✗{% endif %}
                    </span>
                    <span class="permission-label">Edit Content</span>
                </div>
                <div class="permission-item">
                    <span class="permission-icon {% if user.can_edit_media() %}granted{% else %}denied{% endif %}">
                        {% if user.can_edit_media() %}✓{% else %}✗{% endif %}
                    </span>
                    <span class="permission-label">Edit Media</span>
                </div>
                <div class="permission-item">
                    <span class="permission-icon {% if user.can_edit_tags() %}granted{% else %}denied{% endif %}">
                        {% if user.can_edit_tags() %}✓{% else %}✗{% endif %}
                    </span>
                    <span class="permission-label">Edit Tags</span>
                </div>
                <div class="permission-item">
                    <span class="permission-icon {% if user.can_approve() %}granted{% else %}denied{% endif %}">
                        {% if user.can_approve() %}✓{% else %}✗{% endif %}
                    </span>
                    <span class="permission-label">Approve Drafts</span>
                </div>
                <div class="permission-item">
                    <span class="permission-icon {% if user.can_schedule() %}granted{% else %}denied{% endif %}">
                        {% if user.can_schedule() %}✓{% else %}✗{% endif %}
                    </span>
                    <span class="permission-label">Schedule Posts</span>
                </div>
            </div>
        </div>
    </div>


</div>



      

   
    <div class="back-button-container">
        <a href="{{ url_for('collab.drafts') }}" class="back-button">
            ← Back to Drafts
        </a>
    </div>
</div>
{% endblock %}
